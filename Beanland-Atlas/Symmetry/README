Readme for the symmetry detection code by Dalitz and Pohle-Froehlich
====================================================================

Purpose
-------

This software implements the gradient product transform for symmetry
detection that is described in the paper

  C. Dalitz, R. Pohle-Froehlich, F. Schmitt, M. Jeltsch:
  "The gradient product transform for symmetry detection
  and blood vesselm extraction." International Conference on
  Computer Vision Theory and Applications (VISAPP), pp. 177-184,
  2015


Requirements
------------

In order to compile the source code, you need an ANSI C++ 
compiler with STL support. Moreover, you need the OpenCV development
libraries, which are available from http://opencv.willowgarage.com/.
On Linux, OpenCV is typically provided as a package with the OS
distribution.


Installation
------------

First open the Makefile and adjust the number of threads to the
number of processor cores on your system. When your system lacks
OpenMP support, set the NUM_THHREADS to zero.

When OpenCV is installed, compilation on Linux or MacOs X should
then  work out of the box with the command "make". To test the
"symmetry" command, type "make test".

When the OpenCV libraries are not found because you do not have
pkg-config, you can adjust the CFLAGS and LDFLAGS in the Makefile
manually.

Compilation will create the two command line programs in
the source code directory.


Usage
-----

The software consists of two command line program:

 symmetry_features
   Prints the feature values for discrimination between axial and rotational
   symmetry for the n highest scores of the local maxima in the gradient
   product transform.

 symmetry
   Computes the gradient product transform for a given maximal symmetry
   radius and finds the highest score that coresponds to a rotational symmetry.

The program "symmetry_features" will only be useful if you want to refine
the axial/rotational discrimination of symmetries. In general, you will
only need the program "symmetry".

Calling the programs with an invalid (or no) option gives a usage
message. The typical usage for "symmetry" is

 symmetry -r 50 -o foundsymmetry.png test-r30.png

which will print the highest symmetry score point to stdout and
will highlight it in the output image "foundsymmetry.png". The
option "-r" gives the maximal radius used for the computation of
the symmetry score.

The option "-trace" will write additional images with the prefix
"trace-":

 1) "trace-symmetry.png"
    a greyscale version of the symmetry transform image

 2) "trace-localmaxpoints.png"
    a greyscale version of the symmetry transform with
    the highest local maxima and their symmetry radius highlighted
    in color: red = axial symmetries, green = radial symmetry

For blood vessel extraction for dark vessels in lighter background
and a maximum vessel thickness of 8 pixels (twice the option -r),
you should call the program with

 symmetry -r 4 -only dark -trace

which will write a greyscale image with vesselness scores to
"trace-symmetry.png". Binarization and skeletonization of this image
will then produce the blood vessel skeleton.

Copyright and Where to Get It
-----------------------------

Copyright 2013-2015 by
Christoph Dalitz and Regina Pohle Froehlich,
Institute for Pattern Recognition
Niederrhein Unversity of Applied Sciences
47805 Krefeld, Germany

The first author can be contacted by email over
christoph (dot) dalitz (at) hsnr (dot) de

The latest version of this software is available from
http://informatik.hsnr.de/~dalitz/data/visapp13/

This is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as given 
in the file LICENSE. When referring to this software, please
cite the following paper:

  C. Dalitz, R. Pohle-Froehlich, F. Schmitt, M. Jeltsch:
  "The gradient product transform for symmetry detection
  and blood vesselm extraction." International Conference on
  Computer Vision Theory and Applications (VISAPP), pp. 177-184,
  2015

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
file LICENSE for more details.
